<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>🎴 타로 카드 리딩</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- 상단 툴바 -->
    <div class="toolbar">
        <button id="muteBtn" class="icon-btn" title="음소거">🔊</button>
        <button id="fullscreenBtn" class="icon-btn" title="전체화면">⛶</button>
    </div>

    <!-- 메인 컨테이너 -->
    <div id="app" class="container">
        <!-- 메인 메뉴 화면 -->
        <div id="mainMenu" class="screen active">
            <h1 class="title">🎴 타로 카드 리딩</h1>
            <p class="subtitle">스프레드를 선택하세요</p>

            <div class="spread-grid">
                <button class="spread-btn" data-spread="one_card">
                    <div class="spread-name">원 카드 (1장)</div>
                    <div class="spread-desc">오늘의 운세, 간단한 질문</div>
                </button>

                <button class="spread-btn" data-spread="three_card">
                    <div class="spread-name">쓰리 카드 (3장)</div>
                    <div class="spread-desc">과거-현재-미래</div>
                </button>

                <button class="spread-btn" data-spread="relationship">
                    <div class="spread-name">관계 스프레드 (7장)</div>
                    <div class="spread-desc">나와 상대방의 관계 분석</div>
                </button>

                <button class="spread-btn" data-spread="celtic_cross">
                    <div class="spread-name">켈틱 크로스 (10장)</div>
                    <div class="spread-desc">가장 포괄적인 종합 리딩</div>
                </button>

                <button class="spread-btn" data-spread="custom">
                    <div class="spread-name">커스텀</div>
                    <div class="spread-desc">1~10장 자유 선택</div>
                </button>
            </div>

            <button id="historyBtn" class="history-btn">📚 히스토리 보기</button>
        </div>

        <!-- 리딩 화면 -->
        <div id="readingScreen" class="screen">
            <h2 id="readingTitle" class="reading-title"></h2>

            <div id="cardsContainer" class="cards-scroll">
                <div id="cardsWrapper" class="cards-wrapper"></div>
            </div>

            <div class="buttons-row">
                <button id="drawBtn" class="draw-btn">🎴 카드 뽑기</button>
                <button id="backBtn" class="action-btn back-btn">↩ 처음으로</button>
                <button id="resetBtn" class="action-btn reset-btn">🔄 다시 뽑기</button>
                <button id="saveBtn" class="action-btn save-btn">💾 저장</button>
                <button id="aiBtn" class="action-btn ai-btn" disabled>🔮 AI 해설</button>
            </div>

            <div id="drawnCardsList" class="drawn-cards">뽑은 카드: </div>
        </div>

        <!-- 히스토리 화면 -->
        <div id="historyScreen" class="screen">
            <h2 class="reading-title">📚 리딩 히스토리</h2>

            <div id="historyList" class="history-list"></div>

            <div class="buttons-row">
                <button id="historyBackBtn" class="action-btn back-btn">↩ 처음으로</button>
                <button id="clearHistoryBtn" class="action-btn reset-btn">🗑 전체 삭제</button>
            </div>
        </div>
    </div>

    <!-- 커스텀 스프레드 모달 -->
    <div id="customModal" class="modal">
        <div class="modal-content">
            <h3>커스텀 스프레드</h3>
            <p>뽑을 카드 수를 선택하세요:</p>
            <input type="number" id="customCount" min="1" max="10" value="3">
            <div class="modal-buttons">
                <button id="customOkBtn" class="modal-btn ok-btn">확인</button>
                <button id="customCancelBtn" class="modal-btn cancel-btn">취소</button>
            </div>
        </div>
    </div>

    <!-- 히스토리 상세 모달 -->
    <div id="detailModal" class="modal">
        <div class="modal-content">
            <h3>리딩 상세</h3>
            <div id="detailContent"></div>
            <div class="modal-buttons">
                <button id="detailCloseBtn" class="modal-btn ok-btn">닫기</button>
            </div>
        </div>
    </div>

    <!-- AI 해석 모달 -->
    <div id="aiModal" class="modal">
        <div class="modal-content" style="max-width: 700px; max-height: 80vh; overflow-y: auto;">
            <h3>🔮 AI 타로 해석</h3>
            <div id="aiLoadingText" style="display: none; text-align: center; color: #a78bfa; padding: 20px;">
                <p>AI가 카드를 해석하고 있습니다...</p>
                <p style="font-size: 12px;">잠시만 기다려주세요 (최대 1분)</p>
            </div>
            <div id="aiContent" style="line-height: 1.8; color: #f8fafc; white-space: pre-wrap;"></div>
            <div class="modal-buttons">
                <button id="aiCloseBtn" class="modal-btn ok-btn">닫기</button>
            </div>
        </div>
    </div>

    <script src="ai.js"></script>
    <script src="app.js"></script>
</body>
</html>
